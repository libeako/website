\ id xmqxkenntcxfmmtl
* proposition
	* if
		* R is a semi-algebra of sets, including empty and full
		* l : R -> Extended NonNegative Real
			* finitely and countably additive for all union results in R
	* then exists unique m premeasure which is an extension of l to the algebra generated by R
* proof
	* A :=
		* the algebra generated by R
			\ links-to internal apaucufqurnwkqjh
	* "uniqueness of additivity"
		* this may be a bad name choice
		* proposition
			* if
				* n : Nat+
				* V : [1 .. n] -> R
					* disjoint
				* W : Nat+ -> R
					* disjoint
				* union V = union W
			* then
				* sum (V >>> l) = sum (W >>> l)
		* proof
			* the V and W sets are all in R, hence their binary intersections are also [R is a semi-algebra]; consider all the V-W pairs
			* all V and W sets can be expressed as unions of these V-W intersection pairs
				* l is countably additive over these unions
					* this is an assumption of this theorem
			* what we need to prove
				* sum (with v in [1 .. n]) (l (V v))
				* =
				* sum (with w in [1 .. infinity)) (l (W w))
			* we can rewrite this with the V-W pairs:
				* sum (with v in [1 .. n]) (with w in [1 .. infinity)) (l (intersect (V v) (W w)))
				* =
				* sum (with w in [1 .. infinity)) (with v in [1 .. n]) (l (intersect (W w) (V v)))
			* this is true because all the members are non-negative
		* proposition
			* same as previously, but both sides of the equation contain finite union and summation
				* the proof is practically the same
	* by the uniqueness of additivity
		* exists unique (m : A -> Extended NonNegative Real) extension of l
	* m is countably additive inside A
		* proof
			* FinitePartition :=
				* record
					* members
						* endi : Nat+
						* members : [1 .. endi] -> R
					* constraint
						* the members are disjunct
			* take a disjunct (S : Nat+ -> A)
			* exists (SP : Nat -> FinitePartition)
				* foreach (n : Nat+)
					* S n = union (SP n) 
			* assume (union S) is in A
			* then
				* exists (T : FinitePartition)
					* union S = union T
			* we need to prove
				* m (union S) = sum (lift m S)
			* SPC := concat SP
				* infinite number of finite sequences
			* m (union S)
			* =
				* implied by (union S = union T)
			* m (union T)
			* =
				* by the definition of m
			* sum (lift l T)
			* =
				* implied by the uniqueness of additivity
			* sum (lift l SPC)
			* =
			* sum (with n in [1 .. infinite]) (with k in [1 .. sn n)) (l (members (SP) n k))
			* =
				* by the definition of m
			* sum (with n in [1 .. infinite]) (m (union (SP n)))
			* =
			* sum (with n in [1 .. infinite]) (m (S n))
			* =
			* sum (lift m S)